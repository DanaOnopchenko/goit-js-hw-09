{"mappings":"oeACA,IAAAA,EAAAC,EAAA,UAIa,CACXC,KAAMC,SAASC,cAAc,SAC7BC,cAAeF,SAASC,cAAc,kBAGnCF,KAAKI,iBAAiB,UAG3B,SAAsBC,GACpBA,EAAIC,iBAIH,IAAIC,EAAQC,OAAOH,EAAII,cAAcF,MAAMG,OAC5C,MAAMC,EAAOH,OAAOH,EAAII,cAAcE,KAAKD,OACrCE,EAASJ,OAAOH,EAAII,cAAcG,OAAOF,OAK9C,IAAK,IAAIG,EAAI,EAAGA,GAAKD,EAAQC,GAAK,EAC9BC,EAAcD,EAAGN,GACjBQ,KAAKC,GACLC,MAAMC,GACTX,GAASI,EAEXN,EAAII,cAAcU,O,IAGpB,MAAML,EAAgB,CAACM,EAASb,IACrB,IAAIc,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GAC1CC,YAAW,KACLH,EACFF,EAAQ,C,SAAEF,E,MAAUb,IAGpBgB,EAAQ,C,SAAEH,E,MAAUb,GAAQ,GAE7BA,EAAM,IAOX,SAASS,GAAuBI,SAAEA,EAAQb,MAAEA,IAE1CT,EAAA8B,OAAOC,QAAQ,uBAAqBT,QAAiBb,M,CAGvD,SAASW,GAAqBE,SAAEA,EAAQb,MAAEA,IAExCT,EAAA8B,OAAOE,QAAQ,sBAAoBV,QAAeb,M","sources":["src/js/03-promises.js"],"sourcesContent":["\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\n\n\nconst refs = {\n  form: document.querySelector('.form'),\n  btnSubmitForm: document.querySelector('.form button')\n  }\n\nrefs.form.addEventListener('submit', onFormSubmit);\n \n\nfunction onFormSubmit(evt) { \n  evt.preventDefault();\n//   let { \n//     elements:  {delay, step, amount}\n// } = evt.Target;\n   let delay = Number(evt.currentTarget.delay.value);\n  const step = Number(evt.currentTarget.step.value);\n  const amount = Number(evt.currentTarget.amount.value);\n  \n    \n  // console.log(delay,step,amount);\n\n   for (let i = 1; i <= amount; i += 1) { \n       createPromise(i, delay)\n      .then(onCreatePromiseSuccess)\n      .catch(onCreatePromiseError);\n    delay += step ;\n   }\n  evt.currentTarget.reset();\n}\n\nconst createPromise = (position,delay) => { \n    return new Promise((resolve, reject) => { \n      const shouldResolve = Math.random() > 0.3;\n  setTimeout(() => { \n    if (shouldResolve) {\n      resolve({ position, delay })\n\n    } else { \n      reject ({ position, delay })\n    }\n  }, delay)\n  })\n  \n}\n\n\n\nfunction onCreatePromiseSuccess({ position, delay}) { \n  // console.log(`onCreatePromiseSuccess`);\n  Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n\n}\nfunction onCreatePromiseError({ position, delay }) { \n  // console.log(`onCreatePromiseError`);\n  Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n}\n"],"names":["$iQIUW","parcelRequire","form","document","querySelector","btnSubmitForm","addEventListener","evt","preventDefault","delay","Number","currentTarget","value","step","amount","i","$47d4ff9957288465$var$createPromise","then","$47d4ff9957288465$var$onCreatePromiseSuccess","catch","$47d4ff9957288465$var$onCreatePromiseError","reset","position","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","Notify","success","failure"],"version":3,"file":"03-promises.d06d1e26.js.map"}