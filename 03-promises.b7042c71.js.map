{"mappings":"gfACA,IAAAA,EAAAC,EAAA,UAIa,CACXC,KAAMC,SAASC,cAAc,SAC7BC,cAAeF,SAASC,cAAc,kBAGnCF,KAAKI,iBAAiB,UAG3B,SAAsBC,GACpBA,EAAIC,iBAWH,IAPA,IAAIC,EAAQC,OAAOH,EAAII,cAAcF,MAAMG,OACtCC,EAAOH,OAAOH,EAAII,cAAcE,KAAKD,OACrCE,EAASJ,OAAOH,EAAII,cAAcG,OAAOF,OAKrCG,EAAI,EAAGA,GAAKD,EAAQC,GAAK,EAC9BC,EAAcD,EAAGN,GACjBQ,KAAKC,GACLC,MAAMC,GACTX,GAASI,EAEXN,EAAII,cAAcU,O,IAGpB,IAAML,EAAgB,SAACM,EAASb,GAC5B,OAAO,IAAIc,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GAC1CC,YAAW,WACLH,EACFF,EAAQ,CAAEF,WAAUb,UAGpBgB,EAAQ,CAAEH,WAAUb,S,GAErBA,E,KAOL,SAASS,EAAuBY,G,IAAER,EAAFQ,EAAER,SAAUb,EAAZqB,EAAYrB,MAE1CT,EAAA+B,OAAOC,QAAQ,uBAAwCC,OAAfX,EAAS,QAAYW,OAANxB,EAAM,M,CAG/D,SAASW,EAAqBU,G,IAAER,EAAFQ,EAAER,SAAUb,EAAZqB,EAAYrB,MAExCT,EAAA+B,OAAOG,QAAQ,sBAAqCD,OAAfX,EAAS,QAAYW,OAANxB,EAAM,M","sources":["src/js/03-promises.js"],"sourcesContent":["\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\n\n\nconst refs = {\n  form: document.querySelector('.form'),\n  btnSubmitForm: document.querySelector('.form button')\n  }\n\nrefs.form.addEventListener('submit', onFormSubmit);\n \n\nfunction onFormSubmit(evt) { \n  evt.preventDefault();\n//   let { \n//     elements:  {delay, step, amount}\n// } = evt.Target;\n   let delay = Number(evt.currentTarget.delay.value);\n  const step = Number(evt.currentTarget.step.value);\n  const amount = Number(evt.currentTarget.amount.value);\n  \n    \n  // console.log(delay,step,amount);\n\n   for (let i = 1; i <= amount; i += 1) { \n       createPromise(i, delay)\n      .then(onCreatePromiseSuccess)\n      .catch(onCreatePromiseError);\n    delay += step ;\n   }\n  evt.currentTarget.reset();\n}\n\nconst createPromise = (position,delay) => { \n    return new Promise((resolve, reject) => { \n      const shouldResolve = Math.random() > 0.3;\n  setTimeout(() => { \n    if (shouldResolve) {\n      resolve({ position, delay })\n\n    } else { \n      reject ({ position, delay })\n    }\n  }, delay)\n  })\n  \n}\n\n\n\nfunction onCreatePromiseSuccess({ position, delay}) { \n  // console.log(`onCreatePromiseSuccess`);\n  Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n\n}\nfunction onCreatePromiseError({ position, delay }) { \n  // console.log(`onCreatePromiseError`);\n  Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n}\n"],"names":["$h6c0i","parcelRequire","form","document","querySelector","btnSubmitForm","addEventListener","evt","preventDefault","delay","Number","currentTarget","value","step","amount","i","$ce04d3a99e08e73b$var$createPromise","then","$ce04d3a99e08e73b$var$onCreatePromiseSuccess","catch","$ce04d3a99e08e73b$var$onCreatePromiseError","reset","position","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","param","Notify","success","concat","failure"],"version":3,"file":"03-promises.b7042c71.js.map"}